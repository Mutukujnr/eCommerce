<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
	th:fragment="layout(content)">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Orders</title>
<!-- Tell the browser to be responsive to screen width -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Font Awesome -->
<link rel="stylesheet"
	th:href="@{/plugins/fontawesome-free/css/all.min.css}">
<!-- Ionicons -->
<link rel="stylesheet"
	href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<!-- Theme style -->
<link rel="stylesheet" th:href="@{/CSS/adminlte.min.css}">
<!-- Google Font: Source Sans Pro -->
<link rel="stylesheet" th:href="@{/CSS/bootstrap.min.css}">
<link rel="stylesheet" th:href="@{/CSS/style.css}">
    <link rel="stylesheet" th:href="@{/CSS/fontawesome.css}">
    <link rel="stylesheet" th:href="@{/CSS/trackOrder.css}">
<link
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
	rel="stylesheet">
</head>
<body>
<section class="container-fluid py-5">

<section class="h-100 gradient-custom">
  <div class="container-fluid py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-10 col-xl-10">
        <div class="card" style="border-radius: 10px;">
         
          <div class="card-body p-4 ">
          <th:block th:if="${session.succMsg}">
								<p class="text-success fw-bold text-center alert alert-success">[[${session.succMsg}]]</p>
								<th:block
										th:text="${@commonServiceImpl.removeSessionStorage()}">

								</th:block>
							</th:block>
							<th:block th:if="${session.errorMsg}">
								<p class="text-success fw-bold text-center alert alert-danger">[[${session.errorMsg}]]</p>
								<th:block
										th:text="${@commonServiceImpl.removeSessionStorage()}">

								</th:block>
							</th:block>
            
            <div class="card shadow-0 border mb-4" >
              <div class="card-body ">
              <table class="table">
                <thead>
                <tr>
                    <th scope="col">Item</th>
                    <th scope="col">Order Ref</th>
                    <th scope="col">Order Date</th>
                    <th scope="col">Prouct Details</th>
                    <th scope="col">Status</th>
                    <th scope="col">Action</th>
                   
                </tr>
                </thead>
                <tbody>
                <tr th:each="order, o:${items}">

                    <th scope="row">
                        <div class="d-flex align-items-center">
                            <img th:src="@{'/Images/products_img/'+${order.product.image}}" class="img-fluid me-5 rounded-circle" style="width: 80px; height: 80px;" alt="">
                        </div>
                    </th>
                     <td>
                        <p class="mb-0 mt-4">[[${order.orderId}]]</p>
                    </td>
                       <td>
                        <p class="mb-0 mt-4"> [[${order.orderDate}]]</p>
                    </td>
                     <td>
                        <p class="mb-0 mt-4"> Quantity:  [[${order.quantity}]]<br>Price: [[${order.price}]]<br>Total price: [[${order.quantity * order.price}]]</p>
                    </td>
                    <td>
                   <th:block th:if="${order.status != 'Cancelled'}">
									 <a th:href="@{'/user/update-status?id='+${order.id}+'&status=6'}" class="btn btn-small btn-info border-secondary rounded-pill px-1 py-1 text-white  ">[[${order.status}]]</a>

								</th:block>
								<th:block th:unless="${order.status != 'Cancelled'}">
									 <a th:href="@{'/user/update-status?id='+${order.id}+'&status=6'}" class="btn btn-small btn-secondary border-secondary rounded-pill px-1 py-1 text-primary  ">[[${order.status}]]</a>

								</th:block>
                 
                  
                    </td>
                    <td>
                    
                    <th:block th:if="${order.status != 'Cancelled'}">
									 <a th:href="@{'/user/update-status?id='+${order.id}+'&status=6'}" class="btn btn-small btn-danger border-secondary rounded-pill px-1 py-1 text-white ">Cancel</a>

								</th:block>
								 <th:block th:unless="${order.status != 'Cancelled'}">
									 <a href="#" class="btn btn-small btn-danger border-secondary rounded-pill px-1 py-1 text-primary disabled">Cancel</a>

								</th:block>
                    </td>
                    
                </tr>
                </tbody>
                </table>
              
              
              
               
              </div>
            </div>
            

            

          

         
          </div>
         
        </div>
      </div>
    </div>
  </div>
</section>


</section>

</body>
</html>